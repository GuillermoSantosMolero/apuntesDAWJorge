<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<ui:composition template="/WEB-INF/plantillas/plantilla.xhtml"
				xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">        
<ui:define name = "contenido">		
	<div id="altaAutor" class="formulariogeneral">
    <h:outputText value="&nbsp;"></h:outputText>
    <!-- la etiqueta anterior solo por problemas con Mozilla. Sino no cuadraba el formulario -->
    <h:form id="frmAltaUsuario" prependId="false">
        <h:messages globalOnly="true" layout="table" infoClass="advertencia"></h:messages>
        <fieldset>
        	<legend>Nuevo Autor</legend>
            	<h:panelGrid title="Datos del Autor" columns="3" border="0">
            	<h:outputText value="#{msg['pagina.altaautor.nombreautor']}"></h:outputText>
            	<h:inputText id="nombreautor" value="#{backingAltaAutor.autor.nombre}" required="true" requiredMessage="Campo obligatorio">
            		<f:ajax event="blur" render="messageautor" />
            	</h:inputText>
            	<h:message for="nombreautor" errorClass="advertencia" id="messageautor"></h:message>
            	<h:outputText value="#{msg['pagina.altaautor.fechanacimiento']}"></h:outputText>
            	<h:inputText id="fechanacimiento" value="#{backingAltaAutor.autor.fechanacimiento}" pt:type="date" required="true" requiredMessage="Campo obligatorio" >
            		<f:convertDateTime pattern="yyyy-MM-dd" locale="es" />
            		<f:ajax event="blur" render="messagefecha" />
            	</h:inputText>
            	<h:message for="fechanacimiento" errorClass="advertencia" id="messagefecha"></h:message>  
            	<h:outputText value=""></h:outputText>
            	<h:commandButton action="#{backingAltaAutor.nuevoAutor}" value="#{msg['generico.botonguardar']}">
					 <f:ajax execute="@form" render="@form messages"></f:ajax>
				</h:commandButton>
				<br />	
				<!-- <h:message id="messages" globalOnly="true" layout="layout"></h:message>	 -->			
            	</h:panelGrid>
        </fieldset>
        </h:form>
    	</div>
</ui:define> 
</ui:composition>
</html>